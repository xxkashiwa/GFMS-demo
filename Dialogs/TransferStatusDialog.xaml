<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="GFMS.Dialogs.TransferStatusDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="档案转递状态"
    CloseButtonText="关闭"
    Width="800">

    <ScrollViewer>
        <StackPanel Spacing="20" Margin="20">
            
            <!-- 学生基本信息 -->
            <StackPanel Spacing="10">
                <TextBlock Text="学生信息" 
                          FontSize="16" 
                          FontWeight="SemiBold" 
                          Foreground="{ThemeResource SystemAccentColor}"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                       CornerRadius="8"
                       Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="学号：" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" x:Name="StudentIdText" Margin="0,0,20,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="姓名：" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="3" x:Name="StudentNameText" Margin="0,0,0,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="专业：" Margin="0,0,10,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" x:Name="MajorText" Margin="0,0,20,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="毕业年份：" Margin="0,0,10,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="3" x:Name="GraduationYearText"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- 申请信息 -->
            <StackPanel Spacing="10">
                <TextBlock Text="申请信息" 
                          FontSize="16" 
                          FontWeight="SemiBold" 
                          Foreground="{ThemeResource SystemAccentColor}"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                       CornerRadius="8"
                       Padding="15">
                    <StackPanel Spacing="8">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="接收单位：" Margin="0,0,10,5"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="ReceiverNameText" Margin="0,0,0,5"/>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="接收地址：" Margin="0,0,10,5"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="ReceiverAddressText" TextWrapping="Wrap" Margin="0,0,0,5"/>
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="申请时间：" Margin="0,0,10,5"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" x:Name="RequestDateText" Margin="0,0,0,5"/>
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="申请原因：" Margin="0,0,10,0"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" x:Name="ReasonText" TextWrapping="Wrap"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- 转递状态时间线 -->
            <StackPanel Spacing="10">
                <TextBlock Text="转递进度" 
                          FontSize="16" 
                          FontWeight="SemiBold" 
                          Foreground="{ThemeResource SystemAccentColor}"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       CornerRadius="8"
                       Padding="20">
                    <StackPanel x:Name="StatusTimeline" Spacing="15">
                        <!-- 状态步骤将在代码中动态添加 -->
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- 快递信息（如果已寄出） -->
            <StackPanel x:Name="ExpressInfoPanel" Spacing="10" Visibility="Collapsed">
                <TextBlock Text="快递信息" 
                          FontSize="16" 
                          FontWeight="SemiBold" 
                          Foreground="{ThemeResource SystemAccentColor}"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                       CornerRadius="8"
                       Padding="15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="快递单号：" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TrackingNumberText" Margin="0,0,20,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="快递公司：" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="3" x:Name="ExpressCompanyText" Margin="0,0,0,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="寄出时间：" Margin="0,0,10,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" x:Name="DispatchDateText" Margin="0,0,20,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="2" Text="签收时间：" Margin="0,0,10,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="3" x:Name="ReceiveDateText"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- 审核信息 -->
            <StackPanel x:Name="ReviewInfoPanel" Spacing="10" Visibility="Collapsed">
                <TextBlock Text="审核信息" 
                          FontSize="16" 
                          FontWeight="SemiBold" 
                          Foreground="{ThemeResource SystemAccentColor}"/>
                
                <Border Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                       CornerRadius="8"
                       Padding="15">
                    <StackPanel Spacing="8">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="审核人：" Margin="0,0,10,5"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="ReviewedByText" Margin="0,0,0,5"/>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="审核时间：" Margin="0,0,10,5"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="ReviewDateText" Margin="0,0,0,5"/>
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="审核意见：" Margin="0,0,10,0"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" x:Name="ReviewCommentText" TextWrapping="Wrap"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- 操作按钮 -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                <Button x:Name="TrackExpressButton" 
                       Content="跟踪快递" 
                       Style="{StaticResource AccentButtonStyle}"
                       Click="TrackExpressButton_Click"
                       Visibility="Collapsed"/>
                <Button x:Name="PrintStatusButton" 
                       Content="打印状态" 
                       Click="PrintStatusButton_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>